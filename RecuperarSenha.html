<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/recuperarSenhaStyle.css">
    <title>MyHealth - Recuperar Senha</title>
    <link rel="shortcut icon" href="assets/imgs/icon-vaccine.png" type="image/x-icon">
</head>

<body>
    <header>
        <nav class="menu">
            <div class="menu-esquerda">
                <div class="logo">
                    <img class="app-name" src="assets/imgs/icon-vaccine.png" alt="logo">
                </div>
                <h2 class="app-name">MyHealth</h2>
            </div>
        </nav>
    </header>
    <section class="container">
        <div class="content-container">
            <form>
                <div>
                    <label class="rotulo" for="email">E-mail</label>
                    <input class="entrada" type="email" name="email" id="email" placeholder="jurandir.pereira@hotmail.com">
                </div>
            </form>
            <button class="btn-redefinir" id="recuperarSenha" >Redefinir Senha</button>
        </div>
    </section>

    <script type="module">
        import {auth} from './config/firebase.js';
        import{sendPasswordResetEmail} from "https://www.gstatic.com/firebasejs/9.13.0/firebase-auth.js";

        window.onload = () => {
            document.getElementById("recuperarSenha").addEventListener('click', recuperarSenha)
        }

        const recuperarSenha = () => {
            const email = document.getElementById("email").value
            sendPasswordResetEmail(auth, email)
            .then(() => {
                window.location.href = "./Index.html";
            })
            .catch((error) => {
                console.log("Falha ao enviar email: " + error)
            })
            
        }
    </script>
</body>

</html>